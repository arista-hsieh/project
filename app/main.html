---
title: 一周冷便當
layout: ./app/layout.ejs
engine: ejs
current: main
---

<div class="search p-5">
  <label for="search">
    <input type="text" id="search" class="sear" placeholder="海鮮/排骨/三明治">
    <div class="btn btn-primary ms-sm-2 js-match">搜尋</div>
  </label>
</div>

<section class="wrap">
  <div class="container">
    <div class="week">
      <div class="selectMenu js-need-login">
        <ul>
          <li class="active"><a href="main.html">一周冷便當</a></li>
          <li><a href="light.html">輕食冷便當</a></li>
          <li><a href="market.html">超商冷便當</a></li>
          <li><a href="popular.html">熱門冷便當</a></li>
        </ul>
      </div>

      <ul class="cardCollect js-bookmark-state js-post-list list-unstyled">
        <li class="card mb-3" style="width: 18rem;">
          <img src="./assets/images/banto01.jpg" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">竹筍燒雞便當</h5>
            <div class="card-text">
              <div class="like">16 like</div>
              <span class="bookmark"><input type="button" value="加入收藏" class="js-add-bookmarks btn btn-light" />
                <input type="button" value="取消收藏" class="js-remove-bookmarks btn btn-light" /><img
                  src="./assets/images/icon-like-filled.png" alt="bookmark"></span>
            </div>
          </div>
        </li>

        <div class="card mb-3" style="width: 18rem;">
          <img src="./assets/images/banto02.jpg" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">酥炸肉排便當</h5>
            <div class="card-text">
              <div class="like">16 like</div>
              <span class="bookmark"><img src="./assets/images/icon-like-filled.png" alt="bookmark"></span>
            </div>
          </div>
        </div>

        <div class="card mb-3" style="width: 18rem;">
          <img src="./assets/images/banto03.jpg" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">大阪蜜汁燒便當</h5>
            <div class="card-text">
              <div class="like">16 like</div>
              <span class="bookmark"><img src="./assets/images/icon-like-filled.png" alt="bookmark"></span>
            </div>
          </div>
        </div>

        <div class="card mb-3" style="width: 18rem;">
          <img src="./assets/images/banto04.jpg" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">香煎鱸魚排便當</h5>
            <div class="card-text">
              <div class="like">16 like</div>
              <span class="bookmark"><img src="./assets/images/icon-like-filled.png" alt="bookmark"></span>
            </div>
          </div>
        </div>

        <div class="card mb-3" style="width: 18rem;">
          <img src="./assets/images/banto09.jpg" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">玉米漢堡飯糰便當</h5>
            <div class="card-text">
              <div class="like">16 like</div>
              <span class="bookmark"><img src="./assets/images/icon-like-filled.png" alt="bookmark"></span>
            </div>
          </div>
        </div>

        <div class="card mb-3" style="width: 18rem;">
          <img src="./assets/images/banto10.jpg" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">腐乳雞翅便當</h5>
            <div class="card-text">
              <div class="like">16 like</div>
              <span class="bookmark"><img src="./assets/images/icon-like-filled.png" alt="bookmark"></span>
            </div>
          </div>
        </div>

        <div class="card mb-3" style="width: 18rem;">
          <img src="./assets/images/banto11.jpg" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">韓式燒肉便當</h5>
            <div class="card-text">
              <div class="like">16 like</div>
              <span class="bookmark"><img src="./assets/images/icon-like-filled.png" alt="bookmark"></span>
            </div>
          </div>
        </div>

        <div class="card mb-3" style="width: 18rem;">
          <img src="./assets/images/banto12.jpg" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">孜然翅腿便當</h5>
            <div class="card-text">
              <div class="like">16 like</div>
              <span class="bookmark"><img src="./assets/images/icon-like-filled.png" alt="bookmark"></span>
            </div>
          </div>
        </div>

        <div class="card mb-3" style="width: 18rem;">
          <img src="./assets/images/banto13.jpg" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">橙汁魚片便當</h5>
            <div class="card-text">
              <div class="like">16 like</div>
              <span class="bookmark"><img src="./assets/images/icon-like-filled.png" alt="bookmark"></span>
            </div>
          </div>
        </div>

        <div class="card mb-3" style="width: 18rem;">
          <img src="./assets/images/banto14.jpg" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">菠菜鮮蝦義大利麵便當</h5>
            <div class="card-text">
              <div class="like">16 like</div>
              <span class="bookmark"><img src="./assets/images/icon-like-filled.png" alt="bookmark"></span>
            </div>
          </div>
        </div>

      </ul>

    </div>
  </div>
</section>

<script src="https://unpkg.com/axios@1.1.2/dist/axios.min.js"></script>
<script>
  const BASE_URL = 'https://json-server-zeta-eight.vercel.app';
  const BASE_POST_URL = `${BASE_URL}/posts`;

  const domPostList = document.querySelector('.js-post-list');

  var search = document.querySelector(".sear");
  var btnMatch = document.querySelector(".js-match");


  function getLoggedID() {
    return localStorage.getItem('userId') || 0;
  }

  function renderPostInfo() {
    const params = new URLSearchParams(document.location.search);
    const postId = params.get('postId') || 1;

    const url = `${BASE_POST_URL}`;

    axios
      .get(url)
      .then(function (response) {

        str = ""
        if (response.status === 200) {
          const postsData = response.data;
          postsData.forEach(function (item) {
            if (item.category == "一周冷便當") {
              str += `<li class="card mb-3" style="width: 18rem;"><a href="content.html?id=${item.id}">
              <img src="${item.img}" class="card-img-top" alt="bento">
              <div class="card-body">
                <h5 class="card-title">${item.title}</h5>
                <div class="card-text">
                  <div class="like">16 like</div>
                <span class="bookmark"><img src="./assets/images/icon-like-filled.png" alt="bookmark"></span>
                </div>
              </div>
              </a>
            </li>`
            }
          })
          domPostList.innerHTML = str;
        }
      })
      .catch(function (error) {
      });
  }
  function init() {
    renderPostInfo();
  }

  init();

  btnMatch.addEventListener("click", function (e) {
    const params = new URLSearchParams(document.location.search);
    const postId = params.get('postId') || 1;
    const url = `${BASE_POST_URL}`;

    axios
      .get(url)
      .then(function (response) {

        str = ""
        if (response.status === 200) {
          // #Step-2
          const postsData = response.data;
          postsData.forEach(function (item) {
            if (item.title.match(search.value)) {
              str += `<li class="card mb-3" style="width: 18rem;">
          <img src="${item.img}" class="card-img-top" alt="bento">
          <div class="card-body">
            <h5 class="card-title">${item.title}</h5>
            <div class="card-text">
              <div class="like">16 like</div>
              <span class="bookmark"><img src="./assets/images/icon-like-filled.png" alt="bookmark"></span>
            </div>
          </div>
        </li>`
            }
          })
          domPostList.innerHTML = str;
        }
      })
      .catch(function (error) {});
  })
</script>